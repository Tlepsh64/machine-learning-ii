\documentclass{article}
\usepackage[dvipsnames]{xcolor}
\usepackage[paperwidth=9cm, paperheight=5cm, margin = 0cm, top=0.5cm]{geometry}
\usepackage{amsmath}


\usepackage{pgf}
\usepackage{tikz}
\usetikzlibrary{positioning, calc}
\usetikzlibrary{arrows,automata}

\input{node-definitions.tex}


\renewcommand{\vec}[1]{\boldsymbol{#1}}

\begin{document}
\begin{center}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.5cm,semithick]
         
\node(X1) {$\vec{x}_i$};
\node(U1) [below=2.6cm of X1] {$\vec{u}_i$};
\node[dredbox](X2) [right of=X1]{$\mathcal{F}$};
\node[dgreenbox](U2) [right of=U1]{$\mathcal{G}$};
\node(X3) [right of=X2]{$\vec{x}_{i+1}$};
\node(U3) [right of=U2]{$\vec{y}_{i+1}$};

\path
    (X1) edge (X2) 
    (X1.340) edge[in=180, out=0] (U2.160) 
	(X2) edge (X3);

\path
    (U1) edge (U2) 
    (U1.20) edge[in=180, out=0] (X2.200) 
	(U2) edge (U3);

\end{tikzpicture}
\end{center}

\end{document}
